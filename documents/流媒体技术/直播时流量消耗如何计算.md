# 直播时流量的消耗如何计算

直播中消耗的流量与直播的`视频比特率`、`音视频比特率`、`直播时长` 相关. 计算公式为：

    流量 = （视频比特率+音频比特率）/ 8 * 抖动系数 * 直播时长
    : 抖动系数 >= 1

`kbps`（千比特每秒），又称千比特率，指的是数字信号的传输速率，也就是每秒钟传送多少个千位的信息.
`k`表示`千`，``表示的是多少千个位，`ps`表示每秒钟传送. 比特率可以表示网络的传输速度.

为了在直观上显得网络的传输速度较快，一般公司都使用`kb（千位）`来表示.
如果是大写`B`的`kBps`，则表示每秒传送多少`千字节`.

    1 kByte/s = 8kbit/s(一般简写为1kB/s = 8kb/s)  
    1 MByte/s = 1024 kByte/s = 1024 * 8 kbit/s 
   
例如：一场2个小时的直播，直播过程中平均视频比特率`1200 kbps`，音频平均比特率`96 kbps`，则直播过程中消耗的流量为

    （1200+96）/ 8 * 3600 * 2 = 1166400K = 1139M = 1G 135M（或1.11G）

## 码率
    
一般来说，如果是`1M`的带宽，在网上只能看不超过`1024 kbps`的视频，超过`1024kbps`的视频只能等视频缓冲才能流畅的观看.

计算机中的信息都是二进制的0和1来表示，其中每一个0或1被称作一个位，用小写b表示，即bit（位）；
大写B表示byte,即字节，一个字节=八个位，即1B=8b；前面的大写K表示1024的意思，即1024个位（Kb)或1024个字节(KB)。

取视频文件的容量为3.446G 视频长度100分钟（6000秒），计算结果：码率约等于4818 kbps 

    3.446 * 1024 * 1024 * 8 / 6000 = 4817.857 kbps = 4817.857 kbit/s
    
## 带宽解释

`1M宽带` 不同于 `1MB`. 理解时要注意看M后面有没有跟其它名词!!!

 - `1M带宽`  是衡量宽带的带宽单位.   `M` 是数量单位， `宽带`是名词.
 - `1MB`     是存储单位.  `M`是数量单位，`B`是名词,代表Bytes即一个字节.
      
我发现错误就出现在很多人把`1M宽带`带宽单位与`1MB`存储单位混淆为同样的单位了，
于是在网上出现了`1M宽带下载速度=1024KB`的错误解释.
有些人迷惑：为什么我下载或者看电影时显示只有`100KB/s`的速度啊？怎么不是`1024KB`？相差10倍啊！
并疑惑：`1M`等于多少`kb`？呵呵，其实事实是这样的：

	1M宽带理论速度 = 1Mbit/s = 1024 Kbit/s = 1024 * 1024 bit/s = 128 KByte/s

重点在于Byte和bit关系区分。

 - 电脑中数据占储存器的容量的单位是Byte（字节，即硬盘、内存、存储卡等的容量单位）
 - 数据传输时人们习惯性的使用bit（位，宽带传输速度：包括有线宽带与无线宽带）这个单位.


`1Byte=8bit`，意思就是1字节占用8个二进制位。

bit缩写为小写b，所以

`1M/s`（速度单位，后面接秒，简称s）= `1Mbit/s` 缩写为`1M/s` = `1Mb/s` = `1024Kbit/s `= `128KByte/s`（这一步根据1Byte=8bit）=128KB/s（根据Byte缩写为B）

Byte缩写为大写B，所以

`1MB` = `1MByte`缩写为`1024KB`.这个1M是存储单位，所以后面接Byte，缩写为大写B.

上面的转换法则使得宽带下载速度有两种单位，即：Byte/s和bit/s。
通常所说的1M宽带的理论速度就是 `1Mbit/s` = `1024 Kbit/s` = `128 KByte/s=128KB/s`.所以看网速先看速度!!!

宽带速度其实是有两个参数的：上行（上传速度）、下行（下载速度），一般宽带标为1M其实是说下载速度是1M（即128KB/每秒），而上行速度却没有那么高，一般1M、2M、4M的上行速度都是50KB/每秒左右。

    
