## 高并发面试题 以及答案

高并发的常用解决方案

分析请求构成比例/分析业务场景/决定技术选型

 - 异步   异步处理 快速返回,进行流量削峰,更好的用户体验，保护系统
 - 缓存   因为磁盘的读写速度较慢，所以我们常常用读写速度的更高的内存来防止流量到达磁盘。
 - 分布式 缓解单机性能瓶颈，可用性/扩展性/高负载性   Lvs可以实现负载均衡，但是无法实现健康检查。Keepalived可以进行健康检查实现高可用。  
 
系统高可用： 定时做健康检测，多次重启无果可以短信通知运维人员及时维护。

##### 动静分离与前后分离区别

动静分离是将静态资源和动态资源存放在不同服务器中，前后分离是将前端和后台分离，前端通过api调用后台接口

##### 事务嵌套如何避免 

   规定事务只能编写在同一Model层.   
  
服务器分布式后，会产生了那些问题

    分布式锁
    分布式全局ID
    分布式Session一致性问题
    分布式事务 
    分布式任务调度
    分布式日志收集
    分布式配置中心

##### 读写分离/主从同步后如何解决数据延迟问题/分布式如何解决数据延迟问题

 - 异步复制（Asynchronous replication） 快速返回 
 - 全同步复制（Fully synchronous replication）   全部slave同步到就可以返回
 - 半同步复制（Semisynchronous replication）  只要有一个salve同步到就可以返回 

---------------------------

 - 使用强一致性 主从同步策略,但是这个仅仅适合一些特殊业务，金融业务
 - 接受/规避 延迟现象,也就是我们只能尽量降低延迟，没有办法完全消除延迟.  支付/异步支付-全同步，前台轮询结果
   
问题的关键在于，**主从架构是一种用于数据容灾的高可用性解决方案，而不是一种处理高并发压力的解决方案**。
它的目的是主机宕（dang）机以后数据不会丢失，而不是保证从备机读取数据时的一致性。

解决方式是，不要试图在数据库层解决并发的读操作问题，至少不要在主从架构的数据库曾解决。
要在数据库层之上架构一个redis这样的分布式缓存来解决，它是专门干这个的。
redis cluster



    