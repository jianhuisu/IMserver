区别一、前者通过key队列方式实现，取出就删掉了，其他进程也取不到，阻塞进程。订阅发布可以支持多客户端获取同一个频道发布的消息。
区别二、前者消息不处理会缓存在列表，后者不处理的话消息就丢失了。

Redis发布订阅与ActiveMQ的比较
（1）ActiveMQ支持多种消息协议，包括AMQP，MQTT，Stomp等，并且支持JMS规范，但Redis没有提供对这些协议的支持； 
（2）ActiveMQ提供持久化功能，**但Redis无法对消息持久化存储，一旦消息被发送，如果没有订阅者接收，那么消息就会丢失**； 
（3）ActiveMQ提供了消息传输保障，当客户端连接超时或事务回滚等情况发生时，消息会被重新发送给客户端，Redis没有提供消息传输保障。

redis客户端与服务端的连接方式主要有两种

redis哨兵需要与被监视的主服务器建立两个连接

 - 命令连接  单工
 - 订阅连接  双工

why?

Redis的订阅消息在推送时,如果订阅者不在线或者断线,那么这条消息就会丢失.为了不丢失任何消息.哨兵必须专门起一个端口来接收该频道的信息.
另一方面,sentinel还需要向主服务器发送命令,进行正常通信,这就需要另外一条通道,即 命令连接.


Redis的发布订阅机制包括三个部分，发布者，订阅者和Channel。 
当客户端向某个频道发送消息时，Redis首先在结构体redisServer中的pubsub_channels中找出键为该频道的结点，
遍历该结点的值，即遍历订阅了该频道的所有客户端，将消息发送给这些客户端。
然后，遍历结构体redisServer中的pubsub_patterns，找出包含该频道的模式的结点，将消息发送给订阅了该模式的客户端。

发布订阅在于服务端向客户端推送订阅消息.
