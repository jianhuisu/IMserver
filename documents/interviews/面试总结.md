#### 面试总结

一面 

自我介绍 说说自己比较满意的项目 ，从中学到了什么，遇到了什么问题 ，如何解决的,有什么亮点.
    
    一端人员掉线后，另外一端是无法通过tcp连接快速感知到的,tcp的断开机制导致连接还会维护一段时间，
    此时可以通过 维护在应用层的心跳 来快速判断 上线/下线 

接口API系统安全方面 
    
    数据传输过程安全
    接口验证安全  客户端伪造恶意请求
    服务可用安全  DDOS 
    
redis的数据类型与底层数据类型
跳表->层数
秒杀系统的实现 redis分slot，时一个slot用完了，怎么办 
    
    秒杀活动有几个特点 
        1 瞬时流量高
        2 读多写少
        3 核心操作简单 -> 减库存
        
    针对这三个问题，对应的处理措施为 
    
        1 使用MQ来进行流量削峰                  
        2 读多写少 将库存量缓存到 redis里面
        3 异步处理下单         
                
mysql索引实现方式，B树与B+树的区别

    数据库索引采用B+树的主要原因是 B树在提高了磁盘IO性能的同时并没有解决元素遍历的效率低下的问题。正是为了解决这个问题，B+树应运而生。
    B+树只要遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作（或者说效率太低）)

redis高并发的关键  IO模型  线程工作模型 四种IO模型 redis
redis 数据持久化方式
redis集群有没有了解过  实际操作经验有限,我就说一下我了解理论方面 
php5与php7在数据结构上的区别 
    
    
     1. zval结构体字段的改变,一个zval的占用空间下降到16字节.
     1. hashtable 整块的数组元素和hash映射表全部连接在一起，被分配在同一块内存内,避免了CPU的缓存命中率下降问题，而php5中的bucket存储,并不是在内存中连续分配,而是分散在各个不同的内存区域.
    PHP5的Hashtable对于每一个Bucket都是分开申请释放的,而存储在Hashtable中的数据是也会通过pListNext指针串成一个list，可以直接遍历 
     1. zval的类型做了比较大的调整, 扩充拆分到17种类型:
     1. php5中引用计数发生在zval上,php7中引用计数发生在`zval_value`上. 
     1. 增加了AST

常用设计模式，举一个例子实现
php-fpm的 master 与 worker ，worker数量的选择
worker监听端口 还是master监听端口  -> worker监听端口
innodb引擎的特点
任务调度实现
算法 如何从无序整型数组中找出第十大的元素 （常规排序 ，最小堆）
从哪看的redis底层数据结构
有什么想问我的 
会其它语言吗 愿意转go吗 
在职还是离职 这段时间一直在找工作吗 
抢单活动设计方案

二面 

细挖项目
php垃圾回收的机制 `垃圾buffer + 尝试减 - `
swoole的相关使用经验
网站的流量将会非常大如何去优化 

    1 首先分析网站业务类型 不同的类型有不同的优化手段
        1 读多写少 使用缓存
        2 写多读少 MQ + 异步处理


3面

代码规范

4面

leader 性格测试

5面 cto

算法题 
层序遍历
链表求环，环长

nginx master ，worker

hr

为什么从 第一 第二 家公司离职


作业帮

一面
    
    考核对 堆栈/队列 数据结构 的使用理解 ，深度/广度  
    括号匹配  栈
    项目+算法+数据库+linux +   框架+基础    
    QPS 
    redis没问

大型网站的演进
代码整洁之道

mysql一定要深入  创建表语句 索引关键子 实现 优化器 查询过程 
一定要从 letcode上刷题

zuoyebang

hui wen , kuo hao pi pei



融360

letcode三道算法题
    zhengshu fanzhuan 
    dongtaiguihua
    
mysql语句深入剖析
查询优化器


chen lei 

lianbiao  huan , huan chang 
shu de ceng xu bianli 


作业帮

url输入到页面呈现，详细分析过程
awk sed  url 去重 排序 
sql设计
mysql 连表查询

一共100个球，两人轮流拿，每人每次最多拿5个，最后一个拿的人赢；如果我先拿，怎么拿一定会赢？

解答：每次拿的球总数控制为6；第一次拿4个；

url  topK
优惠券排序 ，排序算法 是否稳定
线段全覆盖问题 

一二面的知识点重复的概率比较小
又看一面没问过，就基本都是在问这个项目，围绕秒杀场景问了很多，手写了一道字符串的题目，主要考察异常处理、边界和代码的规范性，
如果中间面试评级偏差较大，可能 P8 面会多一两面

最后就是常规问题个人缺点，这个自己准备过，主要说的是公开场合演讲紧张，从自己写博客 yy 以后参加架构师峰会做演讲意识到自己的缺点