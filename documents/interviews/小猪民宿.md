# 小猪民宿

笔试 四十分钟 

正则匹配url
实际场景建表 sql
手写两个排序算法
偶发性报错如何追溯 -》 分布式方向
读代码 写输出 循环引用删除

一面 因该是同事 

输入url过程... 没有什么有价值的问题

二面  应该是java那边的老大

 
 rpc协议
 框架底层原理  
 innodb 与 myisam 的实现区别 ，以及场景区别
 nginx apache iis 进程模型的区别
 nginx 与 swoole的性能区别 

 tars 微服务的整体架构，流程 
 rpc 协议 与 http协议的区别
 压测工具用过那些，ab 关心哪些指标
 如何降低 主从同步的延迟，（主从同步数据延迟问题不可避免，如何降低 不局限于具体场景） 不要回答强制路由到主，这样就失去了意义.
 使用过哪些系统健康检测平台 监控
 安全监控 流量监控
 为什么不使用开原的数据分析 而 自研

 微服务的服务治理 服务调度 服务发现 原理
 linux awk 解析 nginx access.log  

hr 面 

 主要测试个人性格
 这段时间在干嘛
 为什么离职
 上一家薪资
 为什么从教育行业离开
 个人规划  
 你有什么想问我的吗 



面试题解析

引用计数与 引用变量 是两个不同的概念

https://www.php.cn/php-weizijiaocheng-409313.html

引用计数 是内存优化场景中的概念. COW 写时复制
引用变量 是内存优化中的概念      多个变量符号指向同一个内存空间 同写


我们经常需要在 foreach 中对变量进行引用,如果操作完毕后 我们没有及时的解除引用.
那么很可能会产生变量污染.

不同的变量名代表不同的内存地址

$i = 1;
$j = 1;

$i => 0x0000001
$j => 0x0000009

两者相互隔离

如果 

$i = 1;
$j = &i;

那么  

$i = 0x0000001
$j = 0x0000001

两个变量指向同一个内存地址,修改一个变量的值，另外一个同步更新

eg.1

// 定义一个变量

$a = range(0, 10000);

var_dump(memory_get_usage());

 

// 定义变量b，将a变量的引用赋给b

$b = &$a;

var_dump(memory_get_usage());

 

// 对a进行修改

$a = range(0, 10000);

var_dump(memory_get_usage());

result

int(989760)

int(989848)

int(989840)

